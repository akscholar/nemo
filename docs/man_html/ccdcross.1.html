<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>CCDCROSS(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
This HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A> for <A HREF=https://astronemo.readthedocs.io>NEMO</A><br>
<a href='#toc'>Table of Contents</a><p>

<p> 
<h2><a name='sect0' href='#toc0'>Name</a></h2>
ccdcross - cross correlate images with a reference image 
<p> 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>ccdcross</b>
[parameter=value] 
<p> 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>ccdcross</b> finds the optimal offset one (or
more) images and a reference image based on the cross-correlation between
two images.  By selecting a specific <b>center=</b> and half <b>box=</b> size, one can
focus on a specific area, assuming the offset is less than the box-size.
<p>
The centroid is determined using an intensity weighted mean in the correllated
image. A future version may fit a 2D gaussian or appropriate function to
the correllation image. 
<p> 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
 The following parameters are recognized
in order; they may be given in any order if the keyword is also given. Use
<b>--help</b> to confirm this man page is up to date.  
<dl>

<dt><b>in=</b><i>ref,im1,...</i> </dt>
<dd>Input image files,
first image is the reference image. At least two images need to be given.
No default. </dd>

<dt><b>out=</b><i>im</i> </dt>
<dd>Output cross image. No default. </dd>

<dt><b>center=</b><i>x0,y0</i> </dt>
<dd>X-Y Reference
center around which a box (see <b>box=</b> below) is taken. The are 0-based integer
pixels. By default the center of the image is used.  Default: center of first
input image. </dd>

<dt><b>box=</b><i>b2</i> </dt>
<dd>Half size of correlation box. The output image is forced
to have an odd pixel size, 2*box+1. The shift between the images should
not exceed <b>box</b>. By default half the mapsize is used.  </dd>

<dt><b>clip=</b><i>c</i> </dt>
<dd>Only use values
above this clip level in the original images. By default values are not
clipped. </dd>

<dt><b>bad=</b><i>b</i> </dt>
<dd>bad value to ignore. By default there is no bad value recognized.

<p> </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Caveat</a></h2>
Only 2D images are handled. <p>
The WCS is ignored, 0-based pixel coordinates
are reported. <p>
Images should ideally be the same size, but nothing will stop
the program from running off without that. The user is then responsible
for computing the true offsets as all bets are off. 
<p> 
<h2><a name='sect5' href='#toc5'>Examples</a></h2>

<p> Here two gaussian
shaped sources with noise are created with a small 1 pixel offset from
each other. 
<p>  
<p>     ccdgen - gauss 1,2 size=128,128 center=64,64 | ccdgen g64
noise spar=0,0.05  in=-<br>
     ccdgen - gauss 1,2 size=128,128 center=65,65 | ccdgen g65 noise spar=0,0.05
 in=-<br>
     ccdcross g64,g65 shift.ccd box=16<br>
     ...<br>
     ### nemo Debug Info: Max cross 13.968 @ 16 16<br>
     ### nemo Debug Info: X,Y mean: 0.393391 0.412221<br>
     ### nemo Debug Info: X,Y sig:  1.7885 1.76623<br>
     ### nemo Debug Info: Center at: 0.393391 0.412221<br>
     0.393391 0.412221  0.393391 0.412221  16 16  13.968<br>
 
<p>  
<p> 
<h2><a name='sect6' href='#toc6'>See Also</a></h2>
<a href='ccdmath.1.html'>ccdmath(1NEMO)</a>
, <a href='image.5.html'>image(5NEMO)</a>
 
<p> 
<h2><a name='sect7' href='#toc7'>Files</a></h2>
src/image/mics<tt> </tt>&nbsp;<tt> </tt>&nbsp;ccdcross.c

<p> 
<h2><a name='sect8' href='#toc8'>Author</a></h2>
Peter Teuben 
<p> 
<h2><a name='sect9' href='#toc9'>Update History</a></h2>
<br>
<pre>11-Apr-2022<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.1 Created<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
3-aug-2023<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.2 fix absolute coordinate<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
18-apr-2024<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.3 add peak flux in correlation map<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Caveat</a></li>
<li><a name='toc5' href='#sect5'>Examples</a></li>
<li><a name='toc6' href='#sect6'>See Also</a></li>
<li><a name='toc7' href='#sect7'>Files</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
<li><a name='toc9' href='#sect9'>Update History</a></li>
</ul>
</body>
</html>
